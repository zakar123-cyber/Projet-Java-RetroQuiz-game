<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane stylesheets="@../css/retro-styles.css"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.example.retroquiz.controller.QuestionManagementController"
           styleClass="background-base">

    <VBox alignment="CENTER" spacing="15.0" maxWidth="1000" styleClass="dark-panel">
        <padding>
            <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
        </padding>

        <Label text="QUESTION MANAGEMENT" styleClass="retro-title-small" />

        <!-- Questions Table -->
        <TableView fx:id="questionsTable" prefHeight="300" prefWidth="950">
            <columns>
                <TableColumn fx:id="idColumn" text="ID" prefWidth="50" />
                <TableColumn fx:id="questionColumn" text="Question" prefWidth="350" />
                <TableColumn fx:id="categoryColumn" text="Category" prefWidth="100" />
                <TableColumn fx:id="difficultyColumn" text="Difficulty" prefWidth="100" />
                <TableColumn fx:id="correctColumn" text="Answer" prefWidth="70" />
            </columns>
        </TableView>

        <!-- Edit Form -->
        <GridPane hgap="10" vgap="8" alignment="CENTER">
            <columnConstraints>
                <ColumnConstraints minWidth="100" />
                <ColumnConstraints minWidth="400" />
            </columnConstraints>

            <Label text="Question:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <TextArea fx:id="questionField" promptText="Enter question text" prefRowCount="2" 
                      styleClass="retro-input" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

            <Label text="Option A:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <TextField fx:id="optionAField" promptText="Option A" styleClass="retro-input" 
                       GridPane.columnIndex="1" GridPane.rowIndex="1"/>

            <Label text="Option B:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <TextField fx:id="optionBField" promptText="Option B" styleClass="retro-input" 
                       GridPane.columnIndex="1" GridPane.rowIndex="2"/>

            <Label text="Option C:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
            <TextField fx:id="optionCField" promptText="Option C" styleClass="retro-input" 
                       GridPane.columnIndex="1" GridPane.rowIndex="3"/>

            <Label text="Option D:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
            <TextField fx:id="optionDField" promptText="Option D" styleClass="retro-input" 
                       GridPane.columnIndex="1" GridPane.rowIndex="4"/>

            <Label text="Correct Answer:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="5">
                <ComboBox fx:id="correctAnswerCombo" styleClass="retro-combo-box" prefWidth="100"/>
            </HBox>

            <Label text="Category:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
            <TextField fx:id="categoryField" promptText="e.g., Science, History" styleClass="retro-input" 
                       GridPane.columnIndex="1" GridPane.rowIndex="6"/>

            <Label text="Difficulty:" styleClass="small-text" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
            <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="7">
                <ComboBox fx:id="difficultyCombo" styleClass="retro-combo-box" prefWidth="150"/>
            </HBox>
        </GridPane>

        <!-- Action Buttons -->
        <HBox alignment="CENTER" spacing="15.0">
            <Button text="ADD NEW" styleClass="neon-button-small, cyan" onAction="#handleAdd"/>
            <Button text="UPDATE" styleClass="neon-button-small, yellow" onAction="#handleUpdate"/>
            <Button text="DELETE" styleClass="neon-button-small, magenta" onAction="#handleDelete"/>
            <Button text="CLEAR" styleClass="neon-button-small, cyan" onAction="#handleClear"/>
            <Button text="REFRESH" styleClass="neon-button-small, yellow" onAction="#handleRefresh"/>
        </HBox>

        <Button text="BACK TO DASHBOARD" styleClass="neon-button, magenta" onAction="#handleBack">
            <VBox.margin>
                <Insets top="10.0" />
            </VBox.margin>
        </Button>

    </VBox>
</StackPane>
